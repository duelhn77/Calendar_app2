{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hiros/OneDrive%20-%20%E6%88%90%E7%94%B0%E5%BC%98/Tech0/VS%20Code/Git_Clone_calendar_app/Calendar_app2/src/app/budget-report/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\ntype ReportRow = {\r\n  engagement: string;\r\n  activity: string;\r\n  budget: number;\r\n  actual: number;\r\n  activityId: string;\r\n};\r\n\r\nexport default function BudgetReportPage() {\r\n  const [reportData, setReportData] = useState<ReportRow[]>([]);\r\n  const [selectedEngagement, setSelectedEngagement] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const res = await fetch(\"/api/fetchBudgetAndActuals\");\r\n      const data = await res.json();\r\n      setReportData(data);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const engagements = Array.from(\r\n    new Set(reportData.map((row) => row.engagement))\r\n  );\r\n\r\n  const filteredData = reportData\r\n    .filter((row) => row.engagement === selectedEngagement)\r\n    .sort((a, b) => a.activityId.localeCompare(b.activityId, \"ja\", { numeric: true }));\r\n\r\n  const totalBudget = filteredData.reduce((sum, row) => sum + row.budget, 0);\r\n  const totalActual = filteredData.reduce((sum, row) => sum + row.actual, 0);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">üìä ‰∫àÂÆü„É¨„Éù„Éº„Éà</h1>\r\n\r\n      <div className=\"mb-6\">\r\n        <label className=\"mr-3 font-semibold text-gray-700\">\r\n          EngagementÔºà‰ºöÁ§æÔºâ„ÇíÈÅ∏ÊäûÔºö\r\n        </label>\r\n        <select\r\n          value={selectedEngagement}\r\n          onChange={(e) => setSelectedEngagement(e.target.value)}\r\n          className=\"border px-3 py-2 rounded-md shadow-sm\"\r\n        >\r\n          <option value=\"\">-- ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ --</option>\r\n          {engagements.map((eng) => (\r\n            <option key={eng} value={eng}>\r\n              {eng}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {selectedEngagement && (\r\n        <>\r\n          <h2 className=\"text-xl font-semibold mb-3\">\r\n            „Äå{selectedEngagement}„Äç„ÅÆ‰∫àÁÆó„ÉªÂÆüÁ∏æ‰∏ÄË¶ß\r\n          </h2>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-sm border-collapse border\">\r\n              <thead className=\"bg-gray-100\">\r\n                <tr>\r\n                  <th className=\"border px-4 py-2\">Activity ID</th>\r\n                  <th className=\"border px-4 py-2\">Activity</th>\r\n                  <th className=\"border px-4 py-2\">‰∫àÁÆóÊôÇÈñì</th>\r\n                  <th className=\"border px-4 py-2\">ÂÆüÁ∏æÊôÇÈñì</th>\r\n                  <th className=\"border px-4 py-2\">Â∑ÆÂàÜ</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredData.map((row, idx) => {\r\n                  const diff = row.actual - row.budget;\r\n                  return (\r\n                    <tr key={idx} className=\"text-center\">\r\n                      <td className=\"border px-4 py-2\">{row.activityId}</td>\r\n                      <td className=\"border px-4 py-2\">{row.activity}</td>\r\n                      <td className=\"border px-4 py-2\">{row.budget} h</td>\r\n                      <td className=\"border px-4 py-2\">{row.actual} h</td>\r\n                      <td\r\n                        className=\"border px-4 py-2 font-bold\"\r\n                        style={{\r\n                          color: diff > 0 ? \"red\" : diff < 0 ? \"green\" : \"black\",\r\n                        }}\r\n                      >\r\n                        {(diff >= 0 ? \"+\" : \"\") + diff.toFixed(2)} h\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n\r\n                {/* ‚úÖ ÂêàË®àË°å */}\r\n                <tr className=\"bg-gray-100 font-semibold text-center\">\r\n                  <td className=\"border px-4 py-2\"></td>\r\n                  <td className=\"border px-4 py-2\">ÂêàË®à</td>\r\n                  <td className=\"border px-4 py-2\">{totalBudget.toFixed(2)} h</td>\r\n                  <td className=\"border px-4 py-2\">{totalActual.toFixed(2)} h</td>\r\n                  <td\r\n                    className=\"border px-4 py-2\"\r\n                    style={{\r\n                        color:\r\n                          totalActual - totalBudget > 0\r\n                          ? \"red\"\r\n                          : totalActual - totalBudget < 0\r\n                          ? \"green\"\r\n                          : \"black\",\r\n                    }}\r\n                >\r\n                  {(totalActual - totalBudget >= 0 ? \"+\" : \"\") +\r\n                     (totalActual - totalBudget).toFixed(2)}{\" \"}\r\n                  h\r\n                </td>\r\n               </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hiros/OneDrive%20-%20%E6%88%90%E7%94%B0%E5%BC%98/Tech0/VS%20Code/Git_Clone_calendar_app/Calendar_app2/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hiros/OneDrive%20-%20%E6%88%90%E7%94%B0%E5%BC%98/Tech0/VS%20Code/Git_Clone_calendar_app/Calendar_app2/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hiros/OneDrive%20-%20%E6%88%90%E7%94%B0%E5%BC%98/Tech0/VS%20Code/Git_Clone_calendar_app/Calendar_app2/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}